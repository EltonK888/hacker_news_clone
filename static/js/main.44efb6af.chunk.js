(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(43)},32:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),s=(a(31),a(32),a(7)),l=a(2),i=a(9),d=a(3),m=a.n(d),u=a(8),p=function(e){return e.darkMode?r.a.createElement("div",{className:"dark-mode-story"},r.a.createElement("h5",{className:"storyTitle"},r.a.createElement("a",{className:"titleLink",href:e.titleLink,target:"_blank"},e.title)),r.a.createElement("p",{className:"storyDetails"},e.points," points by ",r.a.createElement(l.b,{to:"/user/".concat(e.by),className:"dark-mode-link"},e.by)," on ",e.time," with ",r.a.createElement(l.b,{to:"/post/".concat(e.id),className:"dark-mode-link"},e.numComments)," comments")):r.a.createElement("div",{className:"story"},r.a.createElement("h5",{className:"storyTitle"},r.a.createElement("a",{className:"titleLink",href:e.titleLink,target:"_blank"},e.title)),r.a.createElement("p",{className:"storyDetails"},e.points," points by ",r.a.createElement(l.b,{to:"/user/".concat(e.by),className:"descriptionLink"},e.by)," on ",e.time," with ",r.a.createElement(l.b,{to:"/post/".concat(e.id),className:"descriptionLink"},e.numComments)," comments"))},h="https://hacker-news.firebaseio.com/v0/",b=".json?print=pretty";function k(e){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(m.a.mark(function e(t){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/item/").concat(t).concat(b));case 2:return a=e.sent,n=a.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){var t=new Date(1e3*e),a=t.getMonth()<10?"0".concat(t.getMonth()+1):"".concat(t.getMonth()+1),n=t.getDate()<10?"0".concat(t.getDate()):"".concat(t.getDate()),r=t.getFullYear()<10?"0".concat(t.getFullYear()):"".concat(t.getFullYear()),c=0===t.getHours()?"12":t.getHours()<=12?"".concat(t.getHours()):"".concat(t.getHours()-12),o=t.getMinutes()<10?"0".concat(t.getMinutes()):"".concat(t.getMinutes()),s=t.getHours()>=12?"PM":"AM";return"".concat(a,"/").concat(n,"/").concat(r,", ").concat(c,":").concat(o," ").concat(s)}function y(e,t){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(m.a.mark(function e(t,a){var n,r,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/").concat(t).concat(b));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r),c=[],r.splice(0,50).forEach(function(e){c.push(k(e))}),console.log(c),Promise.all(c).then(function(e){e.forEach(function(e){try{"story"===e.type&&a.state.stories.push(e)}catch(t){console.log("invalid story type")}}),a.setState({stories:a.state.stories,loaded:!0})});case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var v=function(){return r.a.createElement("div",{class:"d-flex justify-content-center"},r.a.createElement("div",{class:"spinner-border text-danger",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading...")))},N=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),d=i[0],E=i[1],y=Object(n.useState)([]),g=Object(s.a)(y,2),N=g[0],M=g[1];Object(n.useEffect)(function(){x().then(function(e){o(e);var t=e.submitted.splice(0,50);console.log(t);var a=[];t.forEach(function(e){a.push(k(e))}),Promise.all(a).then(function(e){e.forEach(function(e){return N.push(e)}),console.log(N),M(N),E(!0)})})},[]);var x=function(){var t=Object(u.a)(m.a.mark(function t(){var a,n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(h,"/user/").concat(e.match.params.id).concat(b));case 2:return a=t.sent,n=a.json(),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return function(){if(d){var t=N.map(function(t){return"story"!==t.type||t.deleted||t.dead?null:r.a.createElement(p,{key:t.id,id:t.id,title:t.title,by:t.by,time:f(t.time),numComments:t.descendants,titleLink:t.url,points:t.score,darkMode:e.darkMode})}).filter(function(e){return null!==e});return r.a.createElement("div",null,r.a.createElement("h2",{className:e.darkMode?"dark-mode-text":""},c.id),r.a.createElement("p",{className:"storyDetails"},"Joined ",r.a.createElement("b",null,f(c.created))," has ",r.a.createElement("b",null,c.karma)," karma"),r.a.createElement("p",{className:e.darkMode?"aboutUser dark-mode-text":"aboutUser",dangerouslySetInnerHTML:{__html:c.about}}),r.a.createElement("h3",{className:e.darkMode?"dark-mode-text":""},"Posts"),0===N.length?r.a.createElement("p",null,"This user has not posted yet"):t)}return r.a.createElement(v,null)}()};function M(e){return e.darkMode?r.a.createElement("div",{className:"card bg-dark text-light mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"storyDetails"},"by ",r.a.createElement(l.b,{to:"/user/".concat(e.by),className:"dark-mode-link"},e.by)," on ",f(e.time)),r.a.createElement("p",{className:"card-text",dangerouslySetInnerHTML:{__html:e.text}}))):r.a.createElement("div",{className:"card bg-light mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"storyDetails"},"by ",r.a.createElement(l.b,{to:"/user/".concat(e.by),className:"descriptionLink"},e.by)," on ",f(e.time)),r.a.createElement("p",{className:"card-text",dangerouslySetInnerHTML:{__html:e.text}})))}var x=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),d=i[0],m=i[1],u=Object(n.useState)([]),h=Object(s.a)(u,2),b=h[0],E=h[1];Object(n.useEffect)(function(){k(e.match.params.id).then(function(e){console.log(e),o(e);var t=e.kids,a=[];0!==e.descendants&&t.forEach(function(e){a.push(k(e))}),Promise.all(a).then(function(e){e.forEach(function(e){return b.push(e)}),E(b),m(!0)})})},[]);return d?0===b.length?r.a.createElement("div",null,r.a.createElement(p,{key:c.id,id:c.id,title:c.title,by:c.by,time:f(c.time),numComments:c.descendants,titleLink:c.url,points:c.score,darkMode:e.darkMode}),r.a.createElement("p",null,"There are no comments")):r.a.createElement("div",null,r.a.createElement(p,{key:c.id,id:c.id,title:c.title,by:c.by,time:f(c.time),numComments:c.descendants,titleLink:c.url,points:c.score,darkMode:e.darkMode}),b.map(function(t){return"comment"!==t.type||t.deleted||t.dead?"":r.a.createElement(M,{key:t.id,text:t.text,time:t.time,by:t.by,darkMode:e.darkMode})})):r.a.createElement(v,null)};function w(e){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:e.darkMode?"dark-mode-hackerNews":"hackerNews"},r.a.createElement(l.b,{to:"/",className:e.darkMode?"dark-mode-hackerNews":"hackerNews"},"Hacker News")))}var j=a(20),O=a.n(j);function S(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"material-switch"},r.a.createElement("span",{style:{fontSize:"30px",color:e.darkMode?"#999":"#e0dd2a"}},"\u263c"),r.a.createElement(O.a,{checked:e.darkMode,onChange:e.themeChange,onColor:"#6a6acd",onHandleColor:"#2693e6",handleDiameter:20,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:10,width:48,className:"react-switch",id:"material-switch"}),r.a.createElement("span",{style:{fontSize:"30px",color:e.darkMode?"slateblue":"black"}},"\u263d")))}function C(e){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar bg-dark fixed-top navbar-expand"},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:e.darkMode?"navbar-brand mb-0 h1 dark-mode-hackerNews":"navbar-brand mb-0 h1 hackerNewsBrand"},r.a.createElement(l.b,{to:"/",className:e.darkMode?"dark-mode-hackerNews":"hackerNewsBrand"},"HN")),r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item mr-3"},r.a.createElement("h4",null,r.a.createElement(l.c,{to:"/",exact:!0,activeStyle:{color:"rgb(185, 56, 56)",textDecoration:"underline"},className:"dark-mode-topNew"},"Top"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("h4",null,r.a.createElement(l.c,{to:"/new",activeStyle:{color:"rgb(185, 56, 56)",textDecoration:"underline"},className:"dark-mode-topNew"},"New")))),r.a.createElement(S,{darkMode:e.darkMode,themeChange:e.themeChange}))))}var L=a(21),D=a(22),H=a(24),I=a(23),T=a(25),_=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(H.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={stories:[],loaded:!1,darkMode:a.props.darkMode},a}return Object(T.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y("new"===this.props.match.params.type?"newstories":"topstories",this);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=function(e,t){try{return t.state.stories.map(function(t){return r.a.createElement(p,{key:t.id,id:t.id,title:t.title,by:t.by,time:f(t.time),numComments:t.descendants,titleLink:t.url,points:t.score,darkMode:e})})}catch(a){return r.a.createElement("h1",{style:{color:e?"rgb(185,56,56)":"black"}},"Something went wrong, please reload the page")}}(this.props.darkMode,this);return r.a.createElement("div",null,this.state.loaded?e:r.a.createElement("div",{class:"d-flex justify-content-center"},r.a.createElement("div",{class:"spinner-border text-danger",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))))}}]),t}(n.Component),F=function(){var e=Object(n.useState)(function(){return JSON.parse(localStorage.getItem("dark"))||!1}),t=Object(s.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(function(){document.body.style.backgroundColor=a?"#1a1919":"#e4e4e4"},[a]);return r.a.createElement("div",{className:a?"dark-mode":"light-mode"},r.a.createElement(l.a,{basename:"/"},r.a.createElement(C,{darkMode:a,themeChange:function(){return a?(document.body.style.backgroundColor="#e4e4e4",document.body.style.transition="0.25s ease-in-out"):(document.body.style.backgroundColor="#1a1919",document.body.style.transition="0.25s ease-in-out"),c(!a),void localStorage.setItem("dark",JSON.stringify(!a))}}),r.a.createElement("div",{className:"container"},r.a.createElement(w,{darkMode:a}),r.a.createElement(i.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(_,Object.assign({},e,{darkMode:a}))}}),r.a.createElement(i.a,{path:"/:type",exact:!0,render:function(e){return r.a.createElement(_,Object.assign({},e,{darkMode:a}))}}),r.a.createElement(i.a,{path:"/user/:id",exact:!0,render:function(e){return r.a.createElement(N,Object.assign({},e,{darkMode:a}))}}),r.a.createElement(i.a,{path:"/post/:id",exact:!0,render:function(e){return r.a.createElement(x,Object.assign({},e,{darkMode:a}))}}))))};o.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.44efb6af.chunk.js.map