(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(42)},40:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(9),s=a(11),c=a(10),o=a(12),l=a(0),i=a.n(l),d=a(21),m=a.n(d),u=a(3),h=a.n(u),p=a(7),k=a(2),y=function(e){return e.darkMode?i.a.createElement("div",{className:"dark-mode-story"},i.a.createElement("h5",{className:"storyTitle"},i.a.createElement("a",{className:"titleLink",href:e.titleLink},e.title)),i.a.createElement("p",{className:"storyDetails"},e.points," points by ",i.a.createElement(k.b,{to:"/user/".concat(e.by),className:"dark-mode-link"},e.by)," on ",e.time," with ",i.a.createElement(k.b,{to:"/post/".concat(e.id),className:"dark-mode-link"},e.numComments)," comments")):i.a.createElement("div",{className:"story"},i.a.createElement("h5",{className:"storyTitle"},i.a.createElement("a",{className:"titleLink",href:e.titleLink},e.title)),i.a.createElement("p",{className:"storyDetails"},e.points," points by ",i.a.createElement(k.b,{to:"/user/".concat(e.by),className:"descriptionLink"},e.by)," on ",e.time," with ",i.a.createElement(k.b,{to:"/post/".concat(e.id),className:"descriptionLink"},e.numComments)," comments"))},b="https://hacker-news.firebaseio.com/v0/",f=".json?print=pretty";function E(e){return v.apply(this,arguments)}function v(){return(v=Object(p.a)(h.a.mark(function e(t){var a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/item/").concat(t).concat(f));case 2:return a=e.sent,n=a.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){var t=new Date(1e3*e),a=t.getMonth()<10?"0".concat(t.getMonth()+1):"".concat(t.getMonth()+1),n=t.getDate()<10?"0".concat(t.getDate()):"".concat(t.getDate()),r=t.getFullYear()<10?"0".concat(t.getFullYear()):"".concat(t.getFullYear()),s=0===t.getHours()?"12":t.getHours()<=12?"".concat(t.getHours()):"".concat(t.getHours()-12),c=t.getMinutes()<10?"0".concat(t.getMinutes()):"".concat(t.getMinutes()),o=t.getHours()>=12?"PM":"AM";return"".concat(a,"/").concat(n,"/").concat(r,", ").concat(s,":").concat(c," ").concat(o)}function N(e,t){return M.apply(this,arguments)}function M(){return(M=Object(p.a)(h.a.mark(function e(t,a){var n,r,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/").concat(t).concat(f));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r),s=[],r.splice(0,50).forEach(function(e){s.push(E(e))}),console.log(s),Promise.all(s).then(function(e){e.forEach(function(e){try{"story"===e.type&&a.state.stories.push(e)}catch(t){console.log("invalid story type")}}),a.setState({stories:a.state.stories,loaded:!0})});case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={stories:[],loaded:!1,darkMode:a.props.darkMode},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:N("new"===this.props.match.params.type?"newstories":"topstories",this);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=function(e,t){try{return t.state.stories.map(function(t){return i.a.createElement(y,{key:t.id,id:t.id,title:t.title,by:t.by,time:g(t.time),numComments:t.descendants,titleLink:t.url,points:t.score,darkMode:e})})}catch(a){return i.a.createElement("h1",{style:{color:e?"rgb(185,56,56)":"black"}},"Something went wrong, please reload the page")}}(this.props.darkMode,this);return i.a.createElement("div",null,this.state.loaded?e:i.a.createElement("div",{class:"d-flex justify-content-center"},i.a.createElement("div",{class:"spinner-border text-danger",role:"status"},i.a.createElement("span",{class:"sr-only"},"Loading..."))))}}]),t}(l.Component),x=(a(39),a(40),a(13)),j=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={user:null,loaded:!1,stories:[]},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(h.a.mark(function e(){var t=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.userInfo().then(function(e){t.state.user=e;var a=e.submitted.splice(0,50);console.log(a);var n=[];a.forEach(function(e){n.push(E(e))}),Promise.all(n).then(function(e){e.forEach(function(e){return t.state.stories.push(e)}),console.log(t.state.stories),t.setState({user:t.state.user,loaded:!0,stories:t.state.stories})})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"userInfo",value:function(){var e=Object(p.a)(h.a.mark(function e(){var t,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/user/").concat(this.props.match.params.id).concat(f));case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadUser",value:function(){var e=this;if(this.state.loaded){var t=this.state.stories.map(function(t){return"story"!==t.type||t.deleted||t.dead?null:i.a.createElement(y,{key:t.id,id:t.id,title:t.title,by:t.by,time:g(t.time),numComments:t.descendants,titleLink:t.url,points:t.score,darkMode:e.props.darkMode})}).filter(function(e){return null!==e});return i.a.createElement("div",null,i.a.createElement("h2",{className:this.props.darkMode?"dark-mode-text":""},this.state.user.id),i.a.createElement("p",{className:"storyDetails"},"Joined ",i.a.createElement("b",null,g(this.state.user.created))," has ",i.a.createElement("b",null,this.state.user.karma)," karma"),i.a.createElement("p",{className:this.props.darkMode?"aboutUser dark-mode-text":"aboutUser",dangerouslySetInnerHTML:{__html:this.state.user.about}}),i.a.createElement("h3",{className:this.props.darkMode?"dark-mode-text":""},"Posts"),0===t.length?i.a.createElement("p",null,"This user has not posted yet"):t)}return i.a.createElement("div",{class:"d-flex justify-content-center"},i.a.createElement("div",{class:"spinner-border text-danger",role:"status"},i.a.createElement("span",{class:"sr-only"},"Loading...")))}},{key:"render",value:function(){return this.loadUser()}}]),t}(l.Component);function O(e){return e.darkMode?i.a.createElement("div",{className:"card bg-dark text-light mb-3"},i.a.createElement("div",{className:"card-body"},i.a.createElement("p",{className:"storyDetails"},"by ",i.a.createElement(k.b,{to:"/user/".concat(e.by),className:"dark-mode-link"},e.by)," on ",g(e.time)),i.a.createElement("p",{className:"card-text",dangerouslySetInnerHTML:{__html:e.text}}))):i.a.createElement("div",{className:"card bg-light mb-3"},i.a.createElement("div",{className:"card-body"},i.a.createElement("p",{className:"storyDetails"},"by ",i.a.createElement(k.b,{to:"/user/".concat(e.by),className:"descriptionLink"},e.by)," on ",g(e.time)),i.a.createElement("p",{className:"card-text",dangerouslySetInnerHTML:{__html:e.text}})))}var C=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={story:null,loaded:!1,comments:[]},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(h.a.mark(function e(){var t=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:E(this.props.match.params.id).then(function(e){console.log(e),t.state.story=e;var a=e.kids,n=[];0!==e.descendants&&a.forEach(function(e){n.push(E(e))}),Promise.all(n).then(function(e){e.forEach(function(e){return t.state.comments.push(e)}),t.setState({story:t.state.story,loaded:!0,comments:t.state.comments})})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadPost",value:function(){var e=this;if(this.state.loaded){var t=this.state,a=t.story,n=t.comments;return 0===n.length?i.a.createElement("div",null,i.a.createElement(y,{key:a.id,id:a.id,title:a.title,by:a.by,time:g(a.time),numComments:a.descendants,titleLink:a.url,points:a.score,darkMode:this.props.darkMode}),i.a.createElement("p",null,"There are no comments")):i.a.createElement("div",null,i.a.createElement(y,{key:a.id,id:a.id,title:a.title,by:a.by,time:g(a.time),numComments:a.descendants,titleLink:a.url,points:a.score,darkMode:this.props.darkMode}),n.map(function(t){return"comment"!==t.type||t.deleted||t.dead?"":i.a.createElement(O,{key:t.id,text:t.text,time:t.time,by:t.by,darkMode:e.props.darkMode})}))}return i.a.createElement("div",{class:"d-flex justify-content-center"},i.a.createElement("div",{class:"spinner-border text-danger",role:"status"},i.a.createElement("span",{class:"sr-only"},"Loading...")))}},{key:"render",value:function(){return this.loadPost()}}]),t}(l.Component);function S(e){return i.a.createElement("div",{className:"header"},i.a.createElement("h1",{className:e.darkMode?"dark-mode-hackerNews":"hackerNews"},i.a.createElement(k.b,{to:"/",className:e.darkMode?"dark-mode-hackerNews":"hackerNews"},"Hacker News")))}var L=a(24),D=a.n(L);function I(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"material-switch"},i.a.createElement("span",{style:{fontSize:"30px",color:e.darkMode?"#999":"#e0dd2a"}},"\u263c"),i.a.createElement(D.a,{checked:e.darkMode,onChange:e.themeChange,onColor:"#6a6acd",onHandleColor:"#2693e6",handleDiameter:20,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:10,width:48,className:"react-switch",id:"material-switch"}),i.a.createElement("span",{style:{fontSize:"30px",color:e.darkMode?"slateblue":"black"}},"\u263d")))}function T(e){return i.a.createElement("div",null,i.a.createElement("nav",{className:"navbar bg-dark fixed-top navbar-expand"},i.a.createElement("div",{className:"container"},i.a.createElement("span",{className:e.darkMode?"navbar-brand mb-0 h1 dark-mode-hackerNews":"navbar-brand mb-0 h1 hackerNewsBrand"},i.a.createElement(k.b,{to:"/",className:e.darkMode?"dark-mode-hackerNews":"hackerNewsBrand"},"HN")),i.a.createElement("ul",{className:"navbar-nav mr-auto"},i.a.createElement("li",{className:"nav-item mr-3"},i.a.createElement("h4",null,i.a.createElement(k.c,{to:"/",exact:!0,activeStyle:{color:"rgb(185, 56, 56)",textDecoration:"underline"},className:"dark-mode-topNew"},"Top"))),i.a.createElement("li",{className:"nav-item"},i.a.createElement("h4",null,i.a.createElement(k.c,{to:"/new",activeStyle:{color:"rgb(185, 56, 56)",textDecoration:"underline"},className:"dark-mode-topNew"},"New")))),i.a.createElement(I,{darkMode:e.darkMode,themeChange:e.themeChange}))))}var H=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={darkMode:a.getInitialTheme()},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.state.darkMode?document.body.style.backgroundColor="#1a1919":document.body.style.backgroundColor="#e4e4e4"}},{key:"componentDidUpdate",value:function(){localStorage.setItem("dark",JSON.stringify(this.state.darkMode))}},{key:"getInitialTheme",value:function(){return JSON.parse(localStorage.getItem("dark"))||!1}},{key:"handleThemeChange",value:function(){this.state.darkMode?(document.body.style.backgroundColor="#e4e4e4",document.body.style.transition="0.25s ease-in-out"):(document.body.style.backgroundColor="#1a1919",document.body.style.transition="0.25s ease-in-out"),this.setState({darkMode:!this.state.darkMode})}},{key:"render",value:function(){var e=this,t=this.state.darkMode;return i.a.createElement("div",{className:t?"dark-mode":"light-mode"},i.a.createElement(k.a,null,i.a.createElement(T,{darkMode:t,themeChange:function(){return e.handleThemeChange()}}),i.a.createElement("div",{className:"container"},i.a.createElement(S,{darkMode:t}),i.a.createElement(x.a,{path:"/",exact:!0,render:function(e){return i.a.createElement(w,Object.assign({},e,{darkMode:t}))}}),i.a.createElement(x.a,{path:"/:type",exact:!0,render:function(e){return i.a.createElement(w,Object.assign({},e,{darkMode:t}))}}),i.a.createElement(x.a,{path:"/user/:id",exact:!0,render:function(e){return i.a.createElement(j,Object.assign({},e,{darkMode:t}))}}),i.a.createElement(x.a,{path:"/post/:id",exact:!0,render:function(e){return i.a.createElement(C,Object.assign({},e,{darkMode:t}))}}))))}}]),t}(l.Component);m.a.render(i.a.createElement(H,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.e4a9e5f1.chunk.js.map